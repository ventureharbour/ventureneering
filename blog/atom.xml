<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://ventureharbour.tech/blog</id>
    <title>Venture Harbour Engineering Blog</title>
    <updated>2022-04-04T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://ventureharbour.tech/blog"/>
    <subtitle>Venture Harbour Engineering Blog</subtitle>
    <icon>https://ventureharbour.tech/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[ðŸ‘¾Taming Type Inferenece]]></title>
        <id>taming-type-inference</id>
        <link href="https://ventureharbour.tech/blog/taming-type-inference"/>
        <updated>2022-04-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[as const assertions]]></summary>
        <content type="html"><![CDATA[<p><strong>We've all been there.</strong> The same problem for three days now. You've exhausted every developer in your team with your incessant quacking; there's no amount of rubber ducking that can help you. No matter who looks at it,
no matter their level of experience, no matter what phase-4 superpowers they might wield against the program, it does not make sense. You take a walk, eat some fruit, listen to that one banger that Iceland put out for the cancelled eurovision,
neck <em>another</em> coffee, and get back to frustrating your entire team with the endless clack-clack-clacking of your blue-switch keyboard.
You think you might have finally figured it out. Your eyes light up with relief measured in days. The build hasn't failed twenty seconds in this time. It's happening. It's really happening.</p><p>Nope. Just kidding.
Another type error.</p><p>If you've ever worked with Typescript, this is likely to have been your reality at some point or another. Especially if you have recently migrated from Typescript's more dynamic sibling: Javascript. For some reason you can't explain, you end up programming into the early hours. It's at times like this that
the horror novel you've been reading begins to seep into your reality. You somehow come to know that you are the hapless acolyte chanting into the void with naught but a sage candle,
and the Typescript compiler is some mighty Elder God whose machinations are unknowable to mere mortals such as yourself.</p><p>Let's break down some compiler behaviour, take a deep dive into general (wide) type inference, how we can explicitly tell the compiler to instead infer narrow types, and how we can use this to our advantage.</p><p>Typescript is always going to try to infer a type from your variables. If you've done a good job keeping things typed so far, this will usually be really helpful in keeping track of the data you're operating on.
If there's some instance of an <code>any</code> variable in the data leading to the function you're working on now, then you might start to get a little burned by your own hubris. The worst case scenario is that everything is <code>any</code>, and you are just writing javascript with extra
steps for some unfathomable reason.
But what about if i'm defining new variables from scracth that don't depend on any other data. Surely Typescript will always get it right and keep me covered, right?</p><p>...Right? </p><p>Let's look at some examples. Starting with the humble <code>Array</code>. </p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"hello"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>This is, annoyingly, valid Typescript. You can log this out and get <code>[ 1, 'hello' ]</code>. The reason this works is because at the point our <code>arr</code> variable is declared, Typescript does not know what our array <em>contains</em>. The type of <code>arr</code> is <em>inferred</em> as
<code>any[]</code>. It is an array that can contain any data or object. Typescript is dropping type information for items inside. We can push anything we want. </p><p>There are two remedies for this frighteningly dynamic behaviour: explicitly writing the type in the variable definition, or providing the array with some data at the point of declaration. </p><p>If we now write our program as follows: </p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arr</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"hello"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>We get the following error:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">error </span><span class="token constant" style="color:rgb(189, 147, 249)">TS2345</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Argument</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'number'</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> not assignable to parameter </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'string'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">3</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           </span><span class="token operator">~</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>We cannot push a number to an array of strings. At the point of declaration, <code>arr</code> is of type <code>string[]</code>.</p><p>We can achieve the same effect by allowing typescript to infer this type from the initial declaration, like so:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"hello"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>The compiler now fails for a similar reason:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">error </span><span class="token constant" style="color:rgb(189, 147, 249)">TS2345</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Argument</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'string'</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> not assignable to parameter </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'number'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">4</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"hello"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Our <code>arr</code> variable is declared with the type <code>number[]</code> based on the initial data we passed in.</p><p>Type inference is great if you're careful. Generally speaking though it is always a safer bet to explicitly type your data if there is any doubt about the integraity of the data going into the declaration. An inferred type cannot protect you against mistakes
because the compiler does not know your intention. Take the following example:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> b </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"2"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> c </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arrayOfNumbers </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>This code compiles just fine! And although you think your array can only contain numbers, a mistake has defined this type as <code>(string | number)[]</code>, meaning you are now able to unwittingly push strings to your array. This will absolutely cause you
unrecoverable heartache in the near future, as you weigh the heft of this silly mistake some point down the line.
If you had explicitly typed your array to begin with, then this issue is completely nullified for the rest of time:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> b </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"2"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> c </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arrayOfNumbers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">error </span><span class="token constant" style="color:rgb(189, 147, 249)">TS2322</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Type</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'string'</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> not assignable to </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'number'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">5</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arrayOfNumbers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                       </span><span class="token operator">~</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>You will never again be able to push strings to your array of numbers.</p><p>So now we know how type inference behaves. Let's look at a hidden pitfall. </p><p>Take a look at this array declaration:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>What is the type of <code>arr</code>? Has typescript decided that this is an array of numbers, or a two-item array of numbers. There is a subtle difference between these two types of data. </p><p>It turns out Typescript will infer the most general possible type for an inferred-type variable. <code>arr</code> above is an array of numbers: <code>number[]</code>. This means the compiler is expecting the data contained in <code>arr</code> to be a variable length array of numbers that
we might push to, pop from, and slice up. Typescript is <em>not</em> expecting this variable, despite it's initial value, to remain as a fixed two-item tuple. </p><p>This holds a few implications. Importantly, we cannot spread our <code>arr</code> variable to two specific values that can be used in a function. </p><p>The following is not a valid program:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">sum</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">valueA</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> valueB</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> valueA </span><span class="token operator">+</span><span class="token plain"> valueB</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">sum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Despite the fact that our <code>arr</code> variable is an array of two numbers, Typescript cannot guarantee this so it is rejected by the compiler:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">error </span><span class="token constant" style="color:rgb(189, 147, 249)">TS2556</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">A</span><span class="token plain"> spread argument must either have a tuple </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token class-name">or</span><span class="token plain"> be passed to a rest parameter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">7</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">sum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  </span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>This is invalid because, as discussed before, Typescript will always infer the most general type that is assignable to your data. <code>number[]</code> is more general than <code>[number, number]</code>, and so the former is used, even if the latter is technically correct. </p><p>You can solve this one of two ways: you can either type the value of <code>arr</code> explicitly, or you can use a feature introduced in Typescript <code>3.4</code>: <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions" target="_blank" rel="noopener noreferrer">const assertions</a>.</p><p><strong>What the heck is a const assertion?</strong></p><p>Simply put - a const assertion tells the compiler that this data should be inferred to the narrowest possible type it is possible to give this data, and make it readonly for good measure. </p><p>It looks like this:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">sum</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">valueA</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> valueB</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> valueA </span><span class="token operator">+</span><span class="token plain"> valueB</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">sum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>This program is now valid. What is essentially happening is we have told Typescript to not bother with finding a general type for <code>arr</code>. We don't <em>want</em> general. We want <em>exact</em>. We want a <em>narrow type</em>. It's essentially equivalent to writing:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> arr</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">readonly</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">sum</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">valueA</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> valueB</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> valueA </span><span class="token operator">+</span><span class="token plain"> valueB</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">sum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Our program works because we have told the compiler that <code>arr</code> is always going to be a tuple of two numbers that is not going to change. It can happily spread these two numbers and use them safe in the knowledge that there are two of them, and our function
will be satisfied with all the arguments it needs to complete.</p><p>There is a cool use case for this in the wild: an alternative to <code>enum</code> where the keys of an <code>as const</code> array can be used in further type definitions. Considering that items in a readonly tuple can be indexed by number reliably, you can use <code>typeof arr[number]</code> to represent
the type for items contained in your <code>as const</code> array.</p><p>This can be extremely powerful when working with a utility such as <em>lodash</em> on a task such as stripping data from an object returned from an typed API call, where you know the kinds of keys on the returned object and you need to get the compiler to understand them too:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> pick </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"lodash"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> myObject </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  a</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  b</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  c</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  d</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  e</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> keys </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"a"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"b"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"c"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> stripData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">object</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">typeof</span><span class="token plain"> keys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">number</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">pick</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">keys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> stripped </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">stripData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">myObject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>We can use an <code>as const</code> array to define our keys, and use these values to strip unecessary ones from our bloated object. And because we can use the idnexed value from our <code>as const</code> array as types as <em>well as</em> values, we can define a strong return type
based on these values with a <code>Record</code>. Typescript now knows that <code>stripped</code> is an object of type <code>{a: number, b: number, c: number}</code>.</p><p>Good to know!</p>]]></content>
        <author>
            <name>James</name>
            <uri>https://github.com/sudo-jaa</uri>
        </author>
        <category label="Typescript" term="Typescript"/>
        <category label="Programming" term="Programming"/>
        <category label="Types" term="Types"/>
        <category label="Type Inference" term="Type Inference"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ðŸ•¸ Top 5 social media regex for web developers 2022]]></title>
        <id>top-5-social-media-regex-for-web-developers-2022</id>
        <link href="https://ventureharbour.tech/blog/top-5-social-media-regex-for-web-developers-2022"/>
        <updated>2022-03-28T10:00:00.000Z</updated>
        <summary type="html"><![CDATA[Looking to find user profile strings from social media urls? Look no further!]]></summary>
        <content type="html"><![CDATA[<p>The year is 2022, you sit perched at your desk, your central nervous system is a delicate balance of coffee, vegan tortilla chips and whatever your local mini market promotes as 'pastries'...</p><p>You stare blankly at your monitor recovering from the latest adrenaline dump after bringing down production with your last commit, saliva goes un-noticed as is trickles from the corner of your mouth and down your slacked jaw.
"Regex... how how hard can it it be?" You ask yourself. Your fingers begin to bash upon your keyboard in the a-rhythmic way you've become accustomed to. You try to regain control of your thoughts from the dark cloud of self doubt, imposter syndrome and whether that last pastry was actually gluten free.
Languished you trawl the web in search of your liberator. "This is it..." you announce, "this is it...." as you click a link to an perlmonks.com forum post from 2004. Feverishly you scroll up and down the page copying and pasting into your IDE almost at random.
"DAMN IT!" you scream as your hammer the table with a clenched fist, sending the 3 day old tower of unwashed coffee cups crashing to the floor, another dead end.
"If only someone could write a blog post detailing and up-to-date way of obtaining user profiles from social media urls" you plead.... IF ONLY!"</p><p><strong>Instagram</strong></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(?:https?:)?\/\/(?:www\.)?(?:instagram\.com|instagr\.am)\/(?P&lt;username&gt;[A-Za-z0-9_](?:(?:[A-Za-z0-9_]|(?:\.(?!\.))){0,28}(?:[A-Za-z0-9_]))?)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>Youtube</strong> </p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(?:https?:)?\/\/(?:[A-z]+\.)?youtube.com\/user\/(?P&lt;username&gt;[A-z0-9]+)\/?</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>Facebook</strong></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(?:https?:)?\/\/(?:www\.)?(?:facebook|fb)\.com\/(?P&lt;profile&gt;(?![A-z]+\.php)(?!marketplace|gaming|watch|me|messages|help|search|groups)[A-z0-9_\-\.]+)\/?</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>Twitter</strong></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(?:https?:)?\/\/(?:[A-z]+\.)?twitter\.com\/@?(?!home|share|privacy|tos)(?P&lt;username&gt;[A-z0-9_]+)\/?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>Github</strong></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(?:https?:)?\/\/(?:www\.)?github\.com\/(?P&lt;login&gt;[A-z0-9_-]+)\/?</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><em>small print: these may or not work</em></p>]]></content>
        <author>
            <name>Daniel</name>
            <uri>https://github.com/dr-farr</uri>
        </author>
        <category label="regex" term="regex"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ðŸ› GraphQL Object Caching Bug]]></title>
        <id>caching-bug</id>
        <link href="https://ventureharbour.tech/blog/caching-bug"/>
        <updated>2022-03-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The reason why your apollo graph may be broken]]></summary>
        <content type="html"><![CDATA[<p><strong>TLDR - make sure the nested objects in the request have unique ids</strong></p><p>I am a huge fan of GraphQL and all of its typed goodness. On our most recent project we have been using Apollo Client to manage the graph layer, which for the most part has been good but one thing that has caused us headaches is the cache.</p><p>In this simple example to recreate the issue we are requesting all teams and their respective players. Knowing that some teams could have players with the same name.</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    teams </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      players</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        poistion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Let's say the ids are a simple dot notation of the full team name and the player's full name. I am making a request for all players that match â€œrobinsonâ€.</p><p>In the grahpql playground I would see the following:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        "id": "blackburn.rovers",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        "name": "blackburn.rovers",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        "players": {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            "id": "paul.robsinson",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            "name": "paul.robinson",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            "position": "goalkeeper"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        "id": "birmingham",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        "name": "birmingham",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        "players": {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            "id": "paul.robsinson",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            "name": "paul.robinson",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            "position": "defender"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Nice! That is exactly what I want. In the browser I would see Paul Robinson the Goalkeeper playing for Birmingham. What! Ludicrous.</p><p>After banging my head against the wall for an hour it turns out that it was caching the nested player object based on the ID. Here are a few solutions:</p><ol><li>Unique IDs (of course)</li><li>Ask yourself do you really need that id? Removing the ID from the gql Player object.</li><li>Alias a different field to be the ID.</li></ol>]]></content>
        <author>
            <name>Paul ðŸ‘¨â€ðŸš€</name>
            <uri>https://github.com/paulkennethkent</uri>
        </author>
        <category label="graphql" term="graphql"/>
        <category label="apollo" term="apollo"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ðŸŽ› Static Exhaustive Switches in Typescript]]></title>
        <id>exhaustive-switch</id>
        <link href="https://ventureharbour.tech/blog/exhaustive-switch"/>
        <updated>2022-03-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Don't be afraid of the Typescript compiler - it only wants to be your friend.]]></summary>
        <content type="html"><![CDATA[<p><strong>It's 2022, and we are in the golden age of web development</strong>. But for all the advancements that tools like Typescript have made in making our lives easier,
there are still things that it is missing that are staple features in other languages. Thankfully with a little work we are able to emulate some of these features
and make our lives easier, reduce the number of bugs we introduce, and make all our colleagues think we're awesome with our super esoteric programming skillz.</p><p>One of the features I miss dearly from languages like <em>Rust</em> and <em>ReScript</em> is <strong>pattern matching</strong>. And before anybody comes at me: <a href="https://github.com/tc39/proposal-pattern-matching" target="_blank" rel="noopener noreferrer">yes, there is a proposal for
pattern matching in Typescript</a>. And yes, this proposal should make us all very happy.</p><p>What <em>is</em> pattern matching? To quote the almighty <strong><a href="https://doc.rust-lang.org/book/ch06-02-match.html" target="_blank" rel="noopener noreferrer">book</a></strong>:</p><blockquote><p>Think of a match expression as being like a coin-sorting machine: coins slide down a track with variously sized holes along it, and each coin falls through the first hole it encounters that it fits into. In the same way, values go through each pattern in a match, and at the first pattern the value â€œfits,â€ the value falls into the associated code block to be used during execution.</p></blockquote><p>Now this sounds a lot like something that already exists in both Typescript and javascript: the <code>switch</code> statement. And for the most part, a <code>switch</code> does act in much the same
way as a fully-featured <code>match</code>, though with some drawbacks. The main one we're going to focus on here is that <code>switch</code> cases in Typescript
are <strong>not exhaustive</strong>. This means there is no guarantee that your <code>switch</code> is going to handle all possible values of your <code>switch</code> case.
Incidentally, in a <code>match</code> in a strongly typed language like <em>Rust</em>, this exhaustiveness is <strong>guaranteed</strong> statically by the compiler. You must handle <strong>all possible</strong> cases
before your code will even run.</p><p>This has some advantages. Primarily this aids development in larger teams where multiple engineers are working broadly in the same area.
I could create a <code>match</code> that handles some variant of a union type or enum, and we would never have to worry about a co-worker
adding a new value to the case and forgetting to handle it. Compiler says no. Your co-worker is forced to add the logic they missed. Bugs are avoided. Everyone is happy.</p><p>You don't get this advantage with a <code>switch</code>.</p><p>"But James, you stupid human", you say. "You realise you can use 'default' in a switch, right?".</p><p>Absolutely there is an option to use default, but also if you use it as a catch-all for things that you're willing to forget, then
you probably deserve the bugs that are about to come swarming your way.
The issue is that <code>default</code> really does just mean <em>default behaviour</em> that is non-specific to the value being passed to your switch. You
should probably not rely on it to handle missing cases in types that have distinctly known possible values at the point of compilation.</p><blockquote><p>NOTE: This does not apply to things like <code>string</code> and <code>number</code> where you really can have a functionally infinite set of values. Cases like this
you should use <code>default</code> in a switch because you literally don't have any other choice. Though this is a problem that favours eliminating <a href="https://refactoring.guru/smells/primitive-obsession" target="_blank" rel="noopener noreferrer">primitive obsession</a>
in favour of using stronger types for your data (such as <code>enum</code> and <code>union</code>), we'll discuss that another time.</p></blockquote><p>So what can we do about this? How can we ask the Typescript compiler to check this for us at compile-time?</p><p>Enter <strong>NEVER</strong>!</p><p>If you haven't come across if before, <code>never</code> is a powerful Typescript type that tells the compiler that the value in question can never occur.
Everything is assignable to <code>never</code>, but <code>never</code> is not assignable to anything. <code>any</code> isn't even assignable to <code>never</code>. It is the ultimate
last word in telling the compiler that this value must never occur.</p><p>Things like functions that solely throw errors are inferred to return <code>never</code>, and that's how functions that throw can influence
the control flow of a function.</p><p>We can also use <code>never</code> to force a <code>switch</code> case to be exhaustive, by telling it that the <code>default</code> case is <code>never</code>.</p><p>Let's produce an example in literally the only context that has any meaning to me anymore: currency from A Song of Ice and Fire:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_BvAR">Coin.ts</div><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">enum</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Halfpenny</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Penny</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Halfgroat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Groat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Star</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Stag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Moon</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">printValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">coin</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Halfpenny</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"I am worth 23520 Golden Dragons"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Penny</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"I am worth 11760 Golden Dragons"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Halfgroat</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"I am worth 5880 Golden Dragons"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Groat</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"I am worth 2940 Golden Dragons"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Star</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"I am worth 1470 Golden Dragons"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Stag</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"I am worth 210 Golden Dragons"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Moon</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"I am worth 30 Golden Dragons"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>I can stick any of these coins in that I like, and i'll get my value in Dragons.</p><p>But wait! I've forgotten a value in my enum. I've forgotten to put in Dragons.
If I go and do that now:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">enum</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Halfpenny</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Penny</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Halfgroat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Groat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Star</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Stag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Moon</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Dragon</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>and call the <code>printValue()</code> function, I don't get any print out. I've got no default.</p><p>I could add a default case that handles any unaccounted-for values:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">printValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">coin</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Halfpenny</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"23520 of me is worth 1 Golden Dragon"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Penny</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"11760 of me is worth 1 Golden Dragon"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Halfgroat</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"5880 of me is worth 1 Golden Dragon"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Groat</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"2940 of me is worth 1 Golden Dragon"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Star</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"1470 of me is worth 1 Golden Dragon"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Stag</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"210 of me is worth 1 Golden Dragon"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token plain"> </span><span class="token maybe-class-name">Coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Moon</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"30 of me is worth 1 Golden Dragon"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"I don't recognise this currency?"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>But my default needs to be generic no matter how many new coins I add. It can't ever be a handler for custom logic for new items I add to the enum.</p><p>However, we can use the default case to <strong>assign</strong> the coin to <code>never</code>:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> exhaust</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">never</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> coin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">exhaust</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>And now the moment we try to compile our code with an enum case unaccounted for, we get the following:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">index.ts:36:13 - error TS2322: Type 'Coin' is not assignable to type 'never'.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">36       const exhaust: never = coin;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">~~~~~~~</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Found 1 error.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>The Typescript compiler is now actively working for us to prevent any bugs that might arise from missing branches in this switch. It is
now exhaustive, and no matter how many new items we add to our enum, we are forced by default to handle them, or we're not shipping.</p><p>Take <strong>THAT</strong>, dynamic languages!</p>]]></content>
        <author>
            <name>James</name>
            <uri>https://github.com/sudo-jaa</uri>
        </author>
        <category label="Typescript" term="Typescript"/>
        <category label="programming" term="programming"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ðŸ¤¼â€â™€ï¸ Wrestly]]></title>
        <id>wrestly</id>
        <link href="https://ventureharbour.tech/blog/wrestly"/>
        <updated>2022-02-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Wrestling with rest? Try Wrestly!]]></summary>
        <content type="html"><![CDATA[<p><strong>This week we have been working with remote APIs, Webhooks and OAuth</strong>. Those alone will be blogged about plenty in the future, but in doing this task we have bourne another mini project that we have found really useful. Typically, when doing this sort of work, I've always had this habit of running a dummy server that logs out requests and blindly responds to them. This helps me see what is going on, and what external things are either redirecting or posting directly to our APIs. Up to now I have never really done much more than run a server where all requests are <code>console.log</code>'ed and <code>res.send('ok')</code>'ed, but this time around added an SQLite backed so I could see request history, and a nice front end so the payloads were readable. <a href="https://npmjs.com/wrestly" target="_blank" rel="noopener noreferrer">So here is <em>wrestly</em></a></p><div style="text-align:center"><p><img loading="lazy" alt="Our Glorious Mascot" src="/assets/images/logo-6eab9b24879d187ebbedae9eb001c4f4.svg" width="87" height="80" class="img_E7b_"></p></div><p><strong>Wrestly</strong> is a simple http server that will accept any requests and store their <code>body</code>, <code>headers</code> and <code>cookies</code> as well as any <code>query</code> params into a SQLite DB. It allows you to list the requests already made, and look at each one in detail. We don't really focus on the response, it just gives you a nice <code>200</code> and whatever the contents of the original request was. Routes that go via <code>/api/**/*</code> paths will always respond with JSON - which was useful for us - otherwise it just shows Wrestly's own webpage with the contents of the original request. It'll parse any <code>JSON</code> or <code>x-www-form-urlencoded</code> bodies included with requests, and it'll also record the <code>method</code> and <code>url</code>.</p><figcaption align="center">Lists of requests that have come in</figcaption><p><img loading="lazy" alt="Listing" src="/assets/images/listing-98803e57fbd618c29d91830faa8732d1.png" width="2526" height="2004" class="img_E7b_"></p><p>You can access the list view at <code>http://localhost:6789/_x</code> and it should show all recorded requests to date. <em>Note</em> that by default requests are stored in memory, so if you quit <code>wrestly</code> and start again it'll clear saved requests. You can override this by setting a designated <code>sqlite</code> file with the <code>-d</code> eg.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">wrestly -d ./requests.sqlite</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><figcaption align="center">View of a single request</figcaption><p><img loading="lazy" alt="Request" src="/assets/images/request-fb57f87f566db8348100d5999c8e1ed3.png" width="2526" height="2004" class="img_E7b_"></p><p>Combine this with something like <a href="https://ngrok.com" target="_blank" rel="noopener noreferrer"><code>ngrok</code></a> and you have a pretty whizzy environment for working on external webhooked services etc.</p>]]></content>
        <author>
            <name>Darren ðŸ§™â€â™‚ï¸</name>
            <uri>https://github.com/royletron</uri>
        </author>
        <category label="libraries" term="libraries"/>
        <category label="oss" term="oss"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ðŸ§›â€â™‚ï¸ Von Count]]></title>
        <id>count-voncount</id>
        <link href="https://ventureharbour.tech/blog/count-voncount"/>
        <updated>2022-02-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Counting lines has never been so easy!]]></summary>
        <content type="html"><![CDATA[<p><strong>We recently found need to count lines of our code</strong>, but with added context that things like <code>cloc</code> can't give us. Basically at a glance we wanted to see the use of certain features/components/libraries so that we could phase them out slowly over time and see progress ðŸ§®. To that end <a href="https://github.com/ventureharbour/voncount" target="_blank" rel="noopener noreferrer">we produced <em>VonCount</em></a></p><div style="text-align:center"><pre tabindex="0" class="prism-code language-text codeBlockStandalone_csWH thin-scrollbar codeBlockContainer_I0IT theme-code-block" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><p><img loading="lazy" alt="Our Glorious Mascot" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQxIiBoZWlnaHQ9IjI4OCIgdmlld0JveD0iMCAwIDM0MSAyODgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02IDIyNy44MTlDMTEuNzA2MiAxOTQuODkgMTE3LjAxNSA2Ny4wMTYxIDE2OC45NTYgNUMyNDcuNDE2IDkzLjkwODEgMzM3LjM5OCAyMDYuNDE1IDMzNy4zOTggMjI3LjgxOUMyOTAuODcxIDIwNS44NjYgMjQ5LjYxMSAyMTAuODA2IDE2OC45NTYgMjMzLjg1NkM1OC42NzI2IDIwNi45NjQgMzcuODIzIDIyMC42ODQgNiAyMjcuODE5WiIgZmlsbD0iIzUwRkE3QiIvPgo8cGF0aCBkPSJNMjY4LjY2MiAxNDQuODNDMjY4LjY2MiAxOTguNzM3IDIyNC45NjIgMjQyLjQzOCAxNzEuMDU1IDI0Mi40MzhDMTE3LjE0OCAyNDIuNDM4IDczLjQ0NzggMTk4LjczNyA3My40NDc4IDE0NC44M0M5Mi42NDAyIDk0LjkzMDEgOTYuNjIzNSA1MS4zMzU5IDE3MS4wNTUgNTEuMzM1OUMyNDEuNzkzIDUxLjMzNiAyNDkuNzQ0IDg4Ljg5ODMgMjY4LjY2MiAxNDQuODNaIiBmaWxsPSIjRThCOEZGIi8+CjxwYXRoIGQ9Ik0zNy40Mzc5IDk5Ljg2NTRDNDUuNjYzMyA4My45NjMxIDc2LjE4ODQgMTAwLjk2MiA4NS42OTMyIDEwOS4xODdWMTU3Ljk5MUM4MC45NDA4IDE2MC41NSA2OC4yNTU1IDE2NC4xMzMgNTUuNTMzNiAxNTcuOTkxQzQ0LjAxODIgMTQ0LjQ2NSAzNS45MjY0IDEwMi43ODggMzcuNDM3OSA5OS44NjU0WiIgZmlsbD0iI0U4QjhGRiIvPgo8cGF0aCBkPSJNMzA1LjAzNSA5OS44MzkzQzI5Ni44MSA4My45MzcgMjY2LjI4NSAxMDAuOTM2IDI1Ni43OCAxMDkuMTYxVjE1Ny45NjVDMjYxLjUzMiAxNjAuNTI0IDI3NC4yMTggMTY0LjEwNiAyODYuOTQgMTU3Ljk2NUMyOTguNDU1IDE0NC40MzkgMzA2LjU0NyAxMDIuNzYyIDMwNS4wMzUgOTkuODM5M1oiIGZpbGw9IiNFOEI4RkYiLz4KPHBhdGggZD0iTTE3MS4wNTUgNDguODY4NEM5My40NjI3IDQ4Ljg2ODQgOTcuODQ5NSA4NS4zMzQgODQuNjg5IDEwNi45OTRINzMuNzIxOUM3My4zNDQzIDExMS4yMjMgNzMuNTkwOCAxMTguNzk4IDc2Ljc4MjUgMTIwLjgwNkM3My45MDkzIDEyMC44ODggNzAuMDEzNiAxMjEuMDg1IDY3LjE0MTYgMTIxLjI1MUM2Ni43NzYxIDEyNS42MzggNjcuNTgwMyAxMzQuNDY3IDczLjcyMTkgMTM0LjY4NkM3OS44NjM1IDEzNC45MDUgNzAuNDMxOCAxMzUuNjkxIDY0Ljk0ODIgMTM2LjA1N0M2Ni4wNDUgMTQyLjE4IDY5Ljg4MzUgMTU0LjIwNyA3Ni40NjM3IDE1My4zM0M3Ni41NTUxIDE0Ny42NjQgODEuMjg5MiAxMzEuMDY3IDk5LjQ5NDYgMTEwLjAxQzk5LjIyMDQgODYuMjQ3OSAxMTMuMTQ5IDQ3LjQ0MjYgMTcxLjA1NSA4Mi4zMThDMjI4Ljk2MSA0Ny40NDI2IDI0Mi44ODkgODYuMjQ3OCAyNDIuNjE1IDExMC4wMUMyNjAuODIxIDEzMS4wNjcgMjY1LjU1NSAxNDcuNjY0IDI2NS42NDYgMTUzLjMzQzI3Mi4yMjYgMTU0LjIwNyAyNzYuMDY1IDE0Mi4xOCAyNzcuMTYyIDEzNi4wNTdDMjcxLjY3OCAxMzUuNjkxIDI2Mi4yNDYgMTM0LjkwNSAyNjguMzg4IDEzNC42ODZDMjc0LjUzIDEzNC40NjcgMjc1LjMzNCAxMjUuNjM4IDI3NC45NjggMTIxLjI1MUMyNzIuMDk2IDEyMS4wODUgMjY4LjIwMSAxMjAuODg4IDI2NS4zMjcgMTIwLjgwNkMyNjguNTE5IDExOC43OTggMjY4Ljc2NiAxMTEuMjIzIDI2OC4zODggMTA2Ljk5NEgyNTcuNDIxQzI0NC4yNiA4NS4zMzM5IDI0OC42NDcgNDguODY4NCAxNzEuMDU1IDQ4Ljg2ODRaIiBmaWxsPSIjMjgyQTM2Ii8+CjxwYXRoIGQ9Ik0xMjAuMDU4IDcwLjI1NDJDMTE1LjM5NyA3Ny42NTY5IDExMy43NTIgODEuNzY5NiAxMDEuOTYyIDkyLjczNjdDMTEzLjU4NyA4OS44ODUzIDEyMS40MjkgODYuNDMwNiAxMjMuODk2IDg1LjA1OTdDMTU0LjA1NiAxMTEuMTA3IDE2Ny4yNDYgMTAxLjg2OSAxNjMuOTI2IDk5Ljg2NTNDMTQ4LjAyNCA5MC4yNjkxIDEzMi45NDQgODAuMzk4NyAxMjAuMDU4IDcwLjI1NDJaIiBmaWxsPSIjMjgyQTM2Ii8+CjxwYXRoIGQ9Ik0yMjIuNTUyIDcxLjg5OTNDMjI3LjIxMyA3OS4zMDIxIDIyOC44NTggODMuNDE0NyAyNDAuNjQ4IDk0LjM4MTlDMjI5LjAyMyA5MS41MzA0IDIyMS4xODEgODguMDc1OCAyMTguNzE0IDg2LjcwNDlDMTg4LjU1NCAxMTIuNzUyIDE3NS4zNjQgMTAzLjUxNCAxNzguNjg0IDEwMS41MUMxOTQuNTg2IDkxLjkxNDMgMjA5LjY2NiA4Mi4wNDM5IDIyMi41NTIgNzEuODk5M1oiIGZpbGw9IiMyODJBMzYiLz4KPHBhdGggZD0iTTE1NC4xMTEgMTIxLjgyN0MxNTAuNjM4IDEyOC42ODEgMTM3LjMzMSAxMzkuOTc3IDExMS44ODggMTMwLjMyNkMxMTguMTAyIDExNy43MTQgMTM1LjI0OCA5OC4zNTY5IDE1NC4xMTEgMTIxLjgyN1oiIGZpbGw9IndoaXRlIi8+CjxjaXJjbGUgY3g9IjEzNS40NjciIGN5PSIxMjAuNzMiIHI9IjkuODcwMzkiIGZpbGw9IiM0NDQ3NUEiLz4KPHBhdGggZD0iTTEzMy41NDggMTA4LjY2NkMxMTYuNjU4IDEwOS4xMDUgMTEzLjI1OSAxMjguNjgxIDEwMi4wMTcgMTI5Ljc3OEMxMDAuMjYzIDEzMi44NDggMTAyLjc0OCAxMzQuMzQ3IDEwNC4yMTEgMTM0LjcxM0MxMTguMjQ5IDEyOS42NjggMTE1LjcyNiAxMTYuODkxIDEzMy41NDggMTEyLjIzQzE0Ni40ODkgMTEwLjI1NiAxNTIuNDY2IDEyMC43MyAxNTQuMzg1IDEyMy40NzJDMTU2LjM1OSAxMjQuMTMgMTU3LjMwNiAxMjMuNDcyIDE1Ni41NzkgMTIxLjgyNkMxNTEuNTM0IDExMC40MjEgMTQ1LjA2MyAxMDguMzY3IDEzMy41NDggMTA4LjY2NloiIGZpbGw9IiMyODJBMzYiLz4KPHBhdGggZD0iTTE4OC4wNzkgMTIxLjgyN0MxOTEuNTUyIDEyOC42ODEgMjA0Ljg1OSAxMzkuOTc3IDIzMC4zMDIgMTMwLjMyNkMyMjQuMDg4IDExNy43MTQgMjA2Ljk0MyA5OC4zNTY5IDE4OC4wNzkgMTIxLjgyN1oiIGZpbGw9IndoaXRlIi8+CjxjaXJjbGUgcj0iOS44NzAzOSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjA2LjcyMyAxMjAuNzMpIiBmaWxsPSIjNDQ0NzVBIi8+CjxwYXRoIGQ9Ik0yMDguNjQyIDEwOC42NjZDMjI1LjUzMiAxMDkuMTA1IDIyOC45MzIgMTI4LjY4MSAyNDAuMTczIDEyOS43NzhDMjQxLjkyOCAxMzIuODQ4IDIzOS40NDIgMTM0LjM0NyAyMzcuOTc5IDEzNC43MTNDMjIzLjk0MiAxMjkuNjY4IDIyNi40NjQgMTE2Ljg5MSAyMDguNjQyIDExMi4yM0MxOTUuNzAxIDExMC4yNTYgMTg5LjcyNCAxMjAuNzMgMTg3LjgwNSAxMjMuNDcyQzE4NS44MzEgMTI0LjEzIDE4NC44ODQgMTIzLjQ3MiAxODUuNjEyIDEyMS44MjZDMTkwLjY1NiAxMTAuNDIxIDE5Ny4xMjcgMTA4LjM2NyAyMDguNjQyIDEwOC42NjZaIiBmaWxsPSIjMjgyQTM2Ii8+CjxwYXRoIGQ9Ik05NC4yODUyIDE2OC45NThDMTA5LjkxMyAxODEuMjk2IDIyNy41MzUgMTg0LjAzOCAyNDguMzczIDE2OC45NThNOTcuODQ5NSAxNTkuNjM2Qzk1Ljc0NzQgMTYyLjE5NSA5Mi41MzA0IDE2OS41NjEgOTYuNDc4NiAxNzguNTU0TTI0NC44NiAxNTkuNjM2QzI0Ni45NjIgMTYyLjE5NSAyNTAuMTc5IDE2OS41NjEgMjQ2LjIzMSAxNzguNTU0IiBzdHJva2U9IiMyODJBMzYiIHN0cm9rZS13aWR0aD0iOSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMTUuNjcxIDE3NC45OUMxNDcuNzUgMTgxLjg0NCAyMDAuNjY2IDE4MS4yOTYgMjI2Ljk4NyAxNzYuNjM1QzE5NC42MzQgMjM4LjA1MSAxNDkuNjY5IDIzOC41OTkgMTE1LjY3MSAxNzQuOTlaIiBmaWxsPSIjMjgyQTM2Ii8+CjxwYXRoIGQ9Ik0xNDEuOTkyIDE5Ny43NDdDMTM4LjkyMSAxOTUuOTkyIDEzNC44NjMgMTg2LjA0OSAxMzMuMjE4IDE4MS4yOTZMMTQ1LjI4MiAxODIuNjY3QzE0NS40NjUgMTg4LjQyNSAxNDUuMDYzIDE5OS41MDIgMTQxLjk5MiAxOTcuNzQ3WiIgZmlsbD0iI0ZFRkVGRSIvPgo8cGF0aCBkPSJNMjAwLjcwMyAxOTguMDIxQzIwMy43NzQgMTk2LjI2NiAyMDcuODMyIDE4Ni4zMjMgMjA5LjQ3NyAxODEuNTdMMTk3LjQxMyAxODIuOTQxQzE5Ny4yMyAxODguNjk5IDE5Ny42MzIgMTk5Ljc3NiAyMDAuNzAzIDE5OC4wMjFaIiBmaWxsPSIjRkVGRUZFIi8+CjxwYXRoIGQ9Ik0xNTMuODE2IDE4MS4yOTZDMTM3LjM2NSAxODcuMjE4IDE2NC4yMzUgMjEwLjYzMyAxNzEuMzYzIDIxNC40NzJDMTc4LjQ5MiAyMTAuNjMzIDIwNS4zNjEgMTg3LjIxOCAxODguOTExIDE4MS4yOTZDMTg1Ljg5NSAxNzkuNjUxIDE3OC4xNjMgMTc4LjI4IDE3MS4zNjMgMTg1Ljk1N0MxNjQuNTY0IDE3OC4yOCAxNTYuODMyIDE3OS42NTEgMTUzLjgxNiAxODEuMjk2WiIgZmlsbD0iI0ZGOEI4QiIvPgo8cGF0aCBkPSJNMTY4LjE5OSAxMDAuODgyQzE2OC45MDQgOTcuNzg3NSAxNzMuMzA0IDk3Ljc2NDUgMTc0LjA0MiAxMDAuODUyTDE4OS42MzYgMTY2LjEyQzE4OS44NTkgMTY3LjA1MyAxODkuNjIyIDE2OC4wMzYgMTg5IDE2OC43NjVMMTczLjM5MSAxODcuMDU3QzE3Mi4xNzUgMTg4LjQ4MiAxNjkuOTY1IDE4OC40NTcgMTY4Ljc4MyAxODcuMDA0TDE1My45MTcgMTY4LjczOUMxNTMuMzM0IDE2OC4wMjMgMTUzLjExMyAxNjcuMDc4IDE1My4zMTkgMTY2LjE3OEwxNjguMTk5IDEwMC44ODJaIiBmaWxsPSIjQ0M5RUUxIi8+CjxjaXJjbGUgY3g9IjIxMS42MzMiIGN5PSIxMjYuMTg2IiByPSIyOC4zNTI5IiBzdHJva2U9IiM0NDQ3NUEiIHN0cm9rZS13aWR0aD0iOCIvPgo8cGF0aCBkPSJNMTQzLjYzNyAyMzcuNTAzQzE2Mi4wNjIgMjQ0Ljk2IDE2NS4wMjMgMjM0Ljc2MSAxNzEuMDU1IDIzNC43NjFDMTc3LjA4NyAyMzQuNzYxIDE4MC4wNDggMjQ0Ljk2IDE5OC40NzMgMjM3LjUwM0MyMDIuMDM3IDI0NC4wODMgMjAwLjg4NSAyNDcuODEyIDE5NC4wODYgMjU4LjM0QzE5My45MDMgMjU1LjUwNyAxOTMuMTU0IDI1MC42MDggMTkxLjYxOCAyNTMuNjc5QzE4OS45NzMgMjU4Ljg4OCAxODguMzI4IDI2NC4wOTggMTg1Ljg2MSAyNjYuMDE3QzE4NS42NzggMjY0LjE4OSAxODUuMDM4IDI2MS4wODIgMTgzLjk0MSAyNjMuMjc1QzE4MC41MTQgMjcwLjEzIDE3NC43ODQgMjc2LjcxIDE3MS4wNTUgMjgwQzE2Ny4zMjYgMjc2LjcxIDE2MS41OTYgMjcwLjEzIDE1OC4xNjkgMjYzLjI3NUMxNTcuMDcyIDI2MS4wODIgMTU2LjQzMiAyNjQuMTg5IDE1Ni4yNDkgMjY2LjAxN0MxNTMuNzgyIDI2NC4wOTggMTUyLjEzNyAyNTguODg4IDE1MC40OTIgMjUzLjY3OUwxNTAuNDkyIDI1My42NzlDMTQ4Ljk1NiAyNTAuNjA4IDE0OC4yMDcgMjU1LjUwNyAxNDguMDI0IDI1OC4zNEMxNDEuMjI0IDI0Ny44MTIgMTQwLjA3MyAyNDQuMDgzIDE0My42MzcgMjM3LjUwM1oiIGZpbGw9IiMyODJBMzYiLz4KPC9zdmc+Cg==" width="341" height="288" class="img_E7b_"></p><h2>I vant to count your lines...</h2></code></pre></div><p><strong>VonCount</strong> produces tables of results for folders of source code, those results are determined by an optional configuration. The configuration can decide any number of <code>groups</code> which are named and are specified by patterns that match the start and end of a particular block of something. For example <em>documentation</em> where you want to count lines between <code>/**</code> and <code>*/</code>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_BvAR">count.json</div><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">"groups"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">"name"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"documentation"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">"between"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">"start"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"^\\/\\*\\*"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">"end"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"^ \\*/$"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>These will then be matched and counted alongside the rest of the source, producing a table that shows total lines, number of lines in your groups and the representation as a % of those groups.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> -g voncount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">voncount run </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ Path           â”‚ Lines â”‚ </span><span class="token string" style="color:rgb(255, 121, 198)">'documentation'</span><span class="token plain"> â”‚     % â”‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">test</span><span class="token plain">           â”‚   </span><span class="token number">232</span><span class="token plain"> â”‚              </span><span class="token number">19</span><span class="token plain"> â”‚  </span><span class="token number">8.19</span><span class="token plain"> â”‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚   components   â”‚   </span><span class="token number">207</span><span class="token plain"> â”‚              </span><span class="token number">19</span><span class="token plain"> â”‚  </span><span class="token number">9.18</span><span class="token plain"> â”‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     Header.js  â”‚    </span><span class="token number">18</span><span class="token plain"> â”‚               </span><span class="token number">4</span><span class="token plain"> â”‚ </span><span class="token number">22.22</span><span class="token plain"> â”‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     Content.js â”‚   </span><span class="token number">179</span><span class="token plain"> â”‚              </span><span class="token number">15</span><span class="token plain"> â”‚  </span><span class="token number">8.38</span><span class="token plain"> â”‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     Footer.js  â”‚    </span><span class="token number">10</span><span class="token plain"> â”‚               </span><span class="token number">0</span><span class="token plain"> â”‚     </span><span class="token number">0</span><span class="token plain"> â”‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚   pages        â”‚    </span><span class="token number">25</span><span class="token plain"> â”‚               </span><span class="token number">0</span><span class="token plain"> â”‚     </span><span class="token number">0</span><span class="token plain"> â”‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     index.js   â”‚    </span><span class="token number">25</span><span class="token plain"> â”‚               </span><span class="token number">0</span><span class="token plain"> â”‚     </span><span class="token number">0</span><span class="token plain"> â”‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>And you get a neat breakdown of it all ðŸš€!</p><p><em>We are still pretty early</em> with our build on this, but feel it's useful so will be investing more and more time into it. It's great for developer led metrics, and removing/adding certain facets to your code base <a href="https://www.npmjs.com/package/voncount" target="_blank" rel="noopener noreferrer">give it a try</a>.</p>]]></content>
        <author>
            <name>Darren ðŸ§™â€â™‚ï¸</name>
            <uri>https://github.com/royletron</uri>
        </author>
        <category label="libraries" term="libraries"/>
        <category label="oss" term="oss"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ðŸ‘‹ Hello World]]></title>
        <id>hello-world</id>
        <link href="https://ventureharbour.tech/blog/hello-world"/>
        <updated>2022-02-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Welcome to the world of Venture Harbour Engineering!]]></summary>
        <content type="html"><![CDATA[<p><strong>It seems to be a tradition</strong> that every blog I start I start with a well wishing <em>hello world</em> post. So here I am, saying it again, <em>hello world</em>. This time I have the might of the entire Ventureneering team behind me and we have a lot to share, both to one another and the rest of the wider community. So welcome, I'm really glad you came along â¤ï¸.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="questions">Questions?<a class="hash-link" href="#questions" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_mojV" id="how-will-this-be-different-to-ventureharbourcom">How will this be different to ventureharbour.com?<a class="hash-link" href="#how-will-this-be-different-to-ventureharbourcom" title="Direct link to heading">â€‹</a></h5><p>So we are eager to get more mass appeal content from the engineers on the main site, and really this can act as the catalyst and breeding ground for that content. Not that content has to be editorially more or less significant. It's just tonally and demographically the main blog is very different, so this is a place without borders - albeit I hope we would all embody the Venture Harbour spirit! We can also experiment with interactive content a lot easier on this site, with <a href="https://docusaurus.io/docs/markdown-features/react" target="_blank" rel="noopener noreferrer">Docusaurus allowing MDX content</a> you can embed experiments directly into the page!</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="how-do-i-get-stuff-on-here">How do I get stuff on here?<a class="hash-link" href="#how-do-i-get-stuff-on-here" title="Direct link to heading">â€‹</a></h5><p>The <a href="https://github.com/ventureharbour/ventureneering" target="_blank" rel="noopener noreferrer">repository exists publicly</a> so internal or external collaborators can submit PRs and we would be delighted to review them. <a href="https://docusaurus.io/docs/blog#adding-posts" target="_blank" rel="noopener noreferrer">Check out the Docusaurus docs</a> if you are having issues, we can always help get things looking just right if you struggle, so just open issues on our repo if you can't get something working.</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="what-can-i-write-about">What can I write about?<a class="hash-link" href="#what-can-i-write-about" title="Direct link to heading">â€‹</a></h5><p>Anything you think is interesting. It's a great place to share <em>links</em> to interesting articles, <em>libraries</em> or <em>tech</em> that you find whilst journeying through your life as a developer. You can also <em>teach</em> us something, or give us a <em>TIL</em> (today I learned) - short posts are totally totally fine, it doesn't need to be epic, but it can also be epic!!</p>]]></content>
        <author>
            <name>Darren ðŸ§™â€â™‚ï¸</name>
            <uri>https://github.com/royletron</uri>
        </author>
        <category label="hello" term="hello"/>
    </entry>
</feed>